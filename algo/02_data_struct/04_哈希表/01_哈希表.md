一个哈希表包含一个数组，通过特殊的索引值(键）来访问数组中的元素。

哈希表的主要思想是提供一个哈希函数，在所有可能的键与槽位之间建立一张映射表。

本章内容包括：

* 链式哈希表：将数据存储在“桶”bucket中的哈希表。每个桶是一个链表，且链表的容量能够随着冲突的增加而增大
* 开地址哈希表：将数据存储在表中本身，而不是桶中的哈希表。通过各种探查方法避免冲突问题
* 选择哈希表：将数据存储在表本身中，而不是桶中的哈希表。通过各种探查方法来避免冲突问题。
* 选择哈希函数：这是哈希算法的核心算法：将键随机地分散到表中，使冲突最小化。因此，选择一个能够实现这一过程的哈希函数尤为重要。
* 冲突解决：当多个键值映射到相同的索引时解决键中冲突问题。链式哈希表以固定方式（因为其包含链表）来解决冲突。开地址哈希表通过各种形式探查方式来解决冲突。


哈希表的一些应用：

* 数据库系统：高随机访问
* 符号表：符号表是编译器用来维护程序中符号信息的表。
* 标签缓冲区：一种用与机器无关的方式来存储和检索数据的机制.
* 数据字典：一种数据添加/删除、和检索的数据结构
* 关联数组：经常用于不支持结构化数据类型的程序语言中。


处理字符串的哈希函数

```c
#include "hashpjw.h"

// 将键强制转为整数
unsigned int hashpjw(const void *key)
{
	const char *ptr;
	unsigned int val;

	/*Hash the key by performing a number of bit operations on it*/
	val = 0;
	ptr = key;
	while (*ptr != '\0') {
		unsigned int tmp;
		val = (val<<4) + (*ptr);
		if (tmp = (val & 0xf0000000)) {
			val = val ^ (tmp >> 24);
			val = val ^ tmp;
		}
		ptr ++;
	}

	/*In practive, replace PRIME_TABLESIZE with actual table size*/
	return val % PRIME_TABLE;
}
```

# 链式哈希表的例子：符号表

哈希表的一个重要应用是在编译器中，用来维护程序中出现的符号信息.

编译器通常使用一种叫做符号表的数据结构。

编译过程中，编译器访问符号表分为几个阶段，其中一部分称为词法分析器，用来插入符号。

词法分析器是编译器重要部分，负责将源代码中有组织的字符转换为有意义的字符串，称为语义转换.

转换后的字符串称为标记(token)，然后传到解释器进行解析。(解释器进行语法分析)。送入词法分析器的符号通常是字符流，词法分析器将字符流分割出来存入符号表中。词法分析器存储两种重要的属性，一个是符号的语义，另一个是构成语义的标记类型.(例如，字符是一个标识符还是操作符)

## 例子

介绍一个词法分析器，分析字符串中的字符，然后将字符分为两组不同类型的标记：一种只包含数字，另一种包含除了数字以外的字符。假设标记由输入流中一个空格分开.

词法分析器用一个lex来实现，当需要产生标记时，lex就会调用解释器.
