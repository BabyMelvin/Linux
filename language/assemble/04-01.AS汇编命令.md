# 汇编命令
汇编命令是指示汇编器操作方式的**伪指令**。汇编命令用于要求汇编器为变量分配空间、确定程序开始地址、指定当前汇编的区、修改位置计数器值等。所有汇编命令的名称都以`.`开始，其余是字符，并且与大小写无关。通常是小写。。

## 1.`.align abs-expr1,abs-expr2,abs-expr3`

`.align`:存储对齐汇编指令，用于当前子区中把位置计数器值设置(增加)到下一个指令存储边界处。

* `abs-expr1`:要求制定边界对齐值
* `abs-expr2`:对齐的填充字节值。该值和前面的逗号可以省略。省略时候字节值是0.
* `abs-expr3`:指示对齐填充跳过最大字节数，如果对齐操作要求跳过的字节数大于这个最大值，那么该对齐操作就被取消

## 2.`.ascii "string"...`
从位置计数器所指当前位置为字符串分配空间并存储字符串。可使用逗号分开多个字符串,`.ascii "Hello world!","My assembler"`.该汇编命令会让as把这些字符串汇编在连续的位置处，**每个字符串后面不会自动添加0**(NULL)字节。`.asciz "string"...`,和`ascii`类似，但是后面会自动添加NULL字符

## 3.`.byte expressions`
该汇编命令定义0个或多个逗号分开的字节值。每个表达式的值是一个字节。

## 4.`.comm symbol,length`
在bss区中声明一个命名的公共区域。在ld链接过程中，某个目标文件中一个公共符号会与其他目标文件中同名的公共符号合并。

如果ld没有找到一个符号的定义，而只是一个或多个公共符号，那么ld就会分配指定长度length字节的未初始化内存。length必须是一个绝对值表达式，如果ld找打多个长度不同但同名的公共符号，ld就会分配长度最大的空间。

## 4.`.data subsecion`
该汇编命令通知as把随后的语句汇编到编号为subsection的data子区中。如果省略编号，则默认使用编号0.编号必须是绝对值表达式

## 5.`.desc sysmbol.abs-expr`
用绝对表达式的值设置符号symbol的描述符字段`n_desc`的16位值。仅用于a.out格式的目标文件。`include/a.out.h`

## 6.`.fill repeat,size value`
该汇编命令会产生数个(repeat个)大小为size字节的重复拷贝。大小值size可以为0或者某个值，但是若size大于8，则限定为8.每个重复字节内容取自一个8字节数。高4字节为0，低4字节是数值value。

这3个参数都是绝对值，size和value是可选的。如果第2个逗号和value省略，value默认值是0；如果后两个参数都省略的话，则size默认为1

## 7.`.global symbol或.globl symbol`
该汇编命令会使得链接器ld能看见符号symbol。如果我们目标文件中定义了符号symbol，那么其值能被链接过程中的其他目标文件使用。若目标文件中没有定义该符号，那么它的属性将从链接过程中其他目标文件的同名符号中获得。

这个通过设置符号symbol类型字段中的外部N_EXIT来做到的，参见`include/a.out.h`文件中说明

## 8.`.int expressions`
设置0个或多个整数值，每个用逗号分开的表达式值就是运行时刻值，`.int 1234,567,0x89AB`.同`.long expressions`

## 9.`.lcomm symbol,length`
为符号symbol指定的局部公共区域保留长度length字节空间。所在的区和符号symbol的值是新的局部公共快的值。分配的地址在bss区中，因此在运行时这些字节值被清零。由于符号symbol没有被声明全局的，因此链接器ld看不见

## 10.`.octa bignums`
这个汇编命令指定0个或多个逗号分开的16字节大数(`.byte`,`.word`,`.long`,`.quad`,`.octa`分别为1、2、4、8和16字节数)

## 11.`.org new_lc,fill`
这个汇编命令会把当前区的位置计数器设置为值new_lc。位置计数器是基于区的，当 设置计数器值增长，所跳过的字节将被填入fill。该值必须要是绝对值。

## 12.`.space size,fill`
该汇编命令产生size个字节，每个字节填充值fill。这个参数绝对值。 fill省略，默认填充为0

## 13.`.string "string"`

可是使用转义字符，并且末尾附加一个NULL字符结尾。

## 14.`.text subsection`
