# 用查询来调试
大量使用 printk**能够显著地拖慢系统**, 即便你降低 cosole_loglevel 来避免加载控制台设备, 因为 syslogd 会不停地同步它的输出文件; 因此, 要打印的每一行都引起一次磁盘操作. 从 syslogd 的角度这是正确的实现. 它试图将所有东西写到磁盘上, 防止系统刚好在打印消息后崩溃; 然而, 你不想只是为了调试信息的原因而拖慢你的系统. 可以在出现于`/etc/syslogd.conf`中的你的日志文件名前加一个连字号来解决这个问题[14]. 改变配置文件带来的问题是, 这个改变可能在你结束调试后保留在那里, 即便在正常系统操作中你确实想尽快刷新消息到磁盘. 这样永久改变的另外的选择是运行一个非 klogd 程序( 例如` cat /proc/kmsg`, 如之前建议的), 但是这可能不会提供一个合适的环境给正常的系统操作.

经常地, 最好的获得相关信息的方法是查询系统, 在你需要消息时, 不是连续地产生数据. 实际上, 每个 Unix 系统提供许多工具来获取系统消息:` ps`, `netstat`, `vmstat`, 等等.

有几个技术给驱动开发者来查询系统: 创建一个文件在`/proc`文件系统下, 使用`ioctl`驱动方法, 借助`sysfs`输出属性. 使用`sysfs`需要不少关于驱动模型的背景知识. 在 14 章讨论.