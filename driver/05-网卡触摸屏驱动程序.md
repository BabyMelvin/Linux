## Linux网络体系架构
### 1，Linux的协议栈层次
Linux优点之一在于它`丰富而稳定`的网络协议栈。其范围从协议无关层如通用socket层接口或设备层)到各种具体的网路协议实现。

对网路的理论介绍一般采用OSI（Open Systems Interconnection）模型，但是Linux中网络栈的介绍一般分为四层的Internet模型。
<image src="./image/05-01.png"/>
#### 网络接口层
网络接口层把`数据链路层`和`物理层`合并在了一起，`提供访问物理设备的驱动程序`，对应的网络协议主要是以太网协议。

#### 网际层
网络层协议`管理离散的计算间的数据传输`，如IP协议为用户和远程计算机提供了信息包传输方法，确保信息包能正确地到达目的机器。重要的网络层`协议包括ARP（地址解析协议）`，`ICMP（Internet控制消息协议`）和`IP协议(网际协议)`等。

#### 传输层
传输层的功能包括：格式化消息流，提供可靠传输。传输层包括TCP(传输控制协议)和UDP(用户数据报协议)，它们是传输层中最主要的协议。

#### 应用层
应用层位于`协议栈的顶端`，它的主要任务是服务于应用，如利用FTP（文件传输协议）传输一个文件。常见的应用层协议有：HTTP,FTP,Telnet等。应用层是Linux网络设定很关键的一层，Linux服务器的配置文件主要针对应用层总的协议。
### 2.Linux的网络子系统架构
<image src="./image/05-02.jpg"/>
Linux网络子系统的顶部是`系统调用接口层`。它为用户空间的应用层提供了一种访问内核网络子系统方法。位于其下面的是一个**协议无关层**，它提供了一种通用方法来使用传输层协议。然后是**具体协议的实现**，在Linux中包括内嵌协议TCP，UDP，当然还有IP。然后是**设备无关层**，它提供了协议与设备驱动通信的通用接口，最下面是**设备驱动程序**。
#### 系统调用接口
为应用程序`提供访问内核网络子系统的方法`socket系统调用
#### 协议无关接口
实现一组`通用函数`来访问各种不同的协议：**通过socket实现**Linux中的socket使用`struct socket`来描述，这个结构包含了特定的socket所需要的所有状态信息，还包括socket所使用特定的协议和socket上可以执行的一些操作。
#### 网络协议
网络西医层用于实现各种具体的网络协议，如：TCP.UDP等
#### 设备无关接口
设备无关接口将`协议`与`各种网络设备驱动`连接在一起，这一层`提供一组通过函数供低层网络设备驱动程序使用`，让它们可以对高层协议栈进行操作。

首先，设备驱动程序可通过调用`regisetr_netdevice或unregister_netdevice`在内核中进行注册或注销。
## 网卡驱动设计
## Dm9000网卡驱动分析
## Linux输入子系统
## 触摸屏驱动设计
