# 1.I2C硬件介绍

## 1.1 I2C总线协议

1. I2C总线概念

I2C(Inter-Intergrated Circuit)是一种串行总线，用于连接微控制器及其外围设备：

* 只有两根线：一条串行数据线(SDA),一条串行时钟线(SCL)
* 连接到总线的设备都可以用软件根据它的唯一地址来识别
* 传输数据的设备间是简单的主/从关系
* 主机可以用作主机发送器或主机接收器
* 真正的多主机总线，两个或多个主机同时控制发起数据传输时，可以通过**冲突检**测和**仲裁**来防止数据被破坏
* 串行的8位双向数据传输，位速率标准模式可达100kbit/s，快速模式可达到400kbit/s,高速模式可达到3.4Mbit/s
* 连接到同一总线上的IC数量只受到总线的最大电容400pF的限制

I2C总线术语的定义：

* 发送器：发送数据到总线的器件
* 接收器：从总线接收数据的器件
* 主机：发送/停止数据传输、提供时钟信号的器件
* 从机：被主机寻址的器件
* 多主机：可以有多个主机试图控制总线，但不会破坏数据
* 仲裁：当多个主机试图控制总线时，通过仲裁可以使得只有一个主机获得总线控制权，并且它传输的信息不被破坏
* 同步：多个器件同步时钟信号的过程

2. 总线的信号类型：

I2C总线在传送数据过程中有3种信号：开始信号、结束信号和响应信号。

* 1.开始信号(S):SCL为高电平时，SDA由高电平向低电平跳变，开始传送数据。
* 2.结束信号(P):SCL为低电平时，SDA由低电平向高电平跳变，结束传送数据。
* 3.响应信号(ACK):接收器在接收到8位数据后，在第9个时钟周期，拉低SDA电平